import datetime
import hashlib


OTP_LIFETIME = 30


def generate_otp():
    data = datetime.datetime.now()
    target = "salt_salt_salt_" + data.strftime("%Y_%m_%d_%H:%M_") + str(data.second // OTP_LIFETIME)
    return hashlib.sha256(target.encode()).hexdigest()[10:10+8]


if __name__ == "__main__":
    print("otp:", generate_otp())
